!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var s in n)("object"==typeof exports?exports:t)[s]=n[s]}}(window,(function(){return function(t){var e={};function n(s){if(e[s])return e[s].exports;var r=e[s]={i:s,l:!1,exports:{}};return t[s].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(s,r,function(e){return t[e]}.bind(null,r));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){(function(e){const s=n(2),r="undefined"==typeof window?e:window;r.loaders=r.loaders||{},t.exports=Object.assign(r.loaders,s)}).call(this,n(1))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";n.r(e);const s=100;class r{constructor(t,e,n=s){this.TableBatchType=t,this.schema=e,this.batchSize=n,this.batch=null,this.batchCount=0}addRow(t){if(!this.batch){const{TableBatchType:t}=this;this.batch=new t(this.schema,this.batchSize)}this.batch.addRow(t)}chunkComplete(){this.batch&&this.batch.chunkComplete()}isFull(){return this.batch&&this.batch.isFull()}hasBatch(){return Boolean(this.batch)}getNormalizedBatch(){if(this.batch){const t=this.batch.getNormalizedBatch();return this.batch=null,t.count=this.batchCount,this.batchCount++,t}return null}}class i{constructor(t,e){if(this.schema=t,this.batchSize=e,this.rows=null,this.length=0,this.isChunkComplete=!1,!Array.isArray(t)){this._headers=[];for(const e in t)this._headers[t[e].index]=t[e].name}}addRow(t){this.rows||(this.rows=new Array(this.batchSize),this.length=0),this.rows[this.length]=function(t,e){if(!t)throw new Error("null row");if(!Array.isArray(t))return t;if(!e)return t;const n={};for(let s=0;s<e.length;s++)n[e[s]]=t[s];return n}(t,this._headers),this.length++}chunkComplete(){this.isChunkComplete=!0}isFull(){return"auto"===this.batchSize?this.isChunkComplete&&this.length>0:this.rows&&this.length>=this.batchSize}getNormalizedBatch(){if(this.rows){const t=this.rows.slice(0,this.length);return this.rows=null,this.isChunkComplete=!1,{data:t,schema:this.schema,length:t.length}}return null}}class o{constructor(t,e){this.schema=t,this.batchSize=e,this.length=0,this.allocated=0,this.columns=null,this.isChunkComplete=!1,this.reallocateColumns()}addRow(t){this.reallocateColumns();for(const e in t)this.columns[e][this.length]=t[e];this.length++}chunkComplete(){this.isChunkComplete=!0}isFull(){return"auto"===this.batchSize?this.isChunkComplete:this.length>=this.allocated}getNormalizedBatch(){this.pruneColumns();const t=Array.isArray(this.schema)?this.columns:{};if(!Array.isArray(this.schema))for(const e in this.schema){const n=this.schema[e];t[n.name]=this.columns[n.index]}return this.columns=null,this.isChunkComplete=!1,{data:t,schema:this.schema,length:this.length}}reallocateColumns(){if(!(this.length<this.allocated)){this.allocated=this.allocated>0?this.allocated*=2:this.batchSize,this.columns=[];for(const t in this.schema){const e=this.schema[t],n=e.type||Float32Array,s=this.columns[e.index];if(s&&ArrayBuffer.isView(s)){const t=new n(this.allocated);t.set(s),this.columns[e.index]=t}else s?(s.length=this.allocated,this.columns[e.index]=s):this.columns[e.index]=new n(this.allocated)}}}pruneColumns(){this.columns=this.columns.map(t=>t.slice(0,this.length))}}function l(t,e=null){const n=Array.isArray(t)?function(t){const e={};if(t.length){const n=t[0];for(const t in n){const s=n[t];e[t]=h(s)}}return e}(t):function(t){const e={};for(const n in t){const s=t[n];if(ArrayBuffer.isView(s))e[n]=s.constructor;else if(s.length){const t=s[0];e[n]=h(t)}e[n]=e[n]||null}return e}(t);return Object.assign(n,e)}function h(t){return t instanceof Date?Date:t instanceof Number?Float32Array:"string"==typeof t?String:null}var a={name:"JSON",extensions:["json"],testText:null,parseTextSync:function(t,e){return JSON.parse(t)}};const c="<?xml";var u={name:"KML",extensions:["kml"],supported:!("undefined"==typeof window||!window.DOMParser&&(void 0===window.ActiveXObject||!new window.ActiveXObject("Microsoft.XMLDOM"))),testText:function(t){return t.startsWith(c)},parseTextSync:function(t){if(window.DOMParser){const e=(new window.DOMParser).parseFromString(t,"application/xml"),n=function(t){const e=(new DOMParser).parseFromString("<","text/xml").getElementsByTagName("parsererror")[0].namespaceURI;if("http://www.w3.org/1999/xhtml"===e){const e=t.getElementsByTagName("parsererror");return e.length?e[0].innerHTML:null}return t.getElementsByTagNameNS(e,"parsererror").length>0}(e);if(n)throw new Error(n);return e}if(void 0!==window.ActiveXObject){const e=new window.ActiveXObject("Microsoft.XMLDOM");if(e)return e.async="false",e.loadXML(t),e}throw new Error("No XML parser available")},browserOnly:!0,worker:!1};class f extends Array{enqueue(t){return this.push(t)}dequeue(){return this.shift()}}class d{constructor(){this._values=new f,this._settlers=new f,this._closed=!1}close(){for(;this._settlers.length>0;)this._settlers.dequeue().resolve({done:!0});this._closed=!0}[Symbol.asyncIterator](){return this}enqueue(t){if(this._closed)throw new Error("Closed");if(this._settlers.length>0){if(this._values.length>0)throw new Error("Illegal internal state");const e=this._settlers.dequeue();t instanceof Error?e.reject(t):e.resolve({value:t})}else this._values.enqueue(t)}next(){if(this._values.length>0){const t=this._values.dequeue();return t instanceof Error?Promise.reject(t):Promise.resolve({value:t})}if(this._closed){if(this._settlers.length>0)throw new Error("Illegal internal state");return Promise.resolve({done:!0})}return new Promise((t,e)=>{this._settlers.enqueue({resolve:t,reject:e})})}}n.d(e,"TableBatchBuilder",(function(){return r})),n.d(e,"RowTableBatch",(function(){return i})),n.d(e,"ColumnarTableBatch",(function(){return o})),n.d(e,"deduceTableSchema",(function(){return l})),n.d(e,"JSONLoader",(function(){return a})),n.d(e,"XMLLoader",(function(){return u})),n.d(e,"AsyncQueue",(function(){return d}))}])}));