{"ast":null,"code":"var _jsxFileName = \"/Users/idg08/Desktop/works/hospital/src/App.js\";\nimport React, { useEffect, useState, useRef } from 'react';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport MapGL from \"react-map-gl\";\nimport ControllPanel from './components/ControllPanel';\nimport BottomBtn from './components/BottomBtn'; //mapboxのトークンは自分で取得したものに変更してください。\n//このトークンは突然使えなくなる可能性があります。\n\nconst MAPBOX_TOKEN = \"pk.eyJ1Ijoic2hpbWl6dSIsImEiOiJjam95MDBhamYxMjA1M2tyemk2aHMwenp5In0.i2kMIJulhyPLwp3jiLlpsA\";\n\nfunction App() {\n  const mapRef = useRef(null);\n  const bbtnRef = useRef(null);\n  const [viewport, setViewport] = useState({\n    width: window.innerWidth,\n    height: window.innerHeight,\n    longitude: 139.0110974,\n    latitude: 36.3226885,\n    zoom: 6,\n    maxZoom: 20\n  });\n\n  const getMapsize = () => {\n    const width = mapRef.current ? mapRef.current.offsetWidth : 0;\n    const height = mapRef.current ? mapRef.current.offsetHeight : 0;\n    const bbtnHeight = bbtnRef.current ? bbtnRef.current.offsetHeight : 0;\n    setViewport(v => {\n      return { ...v,\n        width: width,\n        height: height - bbtnHeight\n      };\n    });\n  }; //ロード時にコンポネーントのwidth,heightを取得\n\n\n  useEffect(getMapsize, []); //resize\n\n  useEffect(() => {\n    const handleResize = () => {\n      const height = mapRef.current ? mapRef.current.offsetHeight : 0;\n      const bbtnHeight = bbtnRef.current ? bbtnRef.current.offsetHeight : 0;\n      setViewport(v => {\n        return { ...v,\n          width: width,\n          height: height - bbtnHeight\n        };\n      });\n    };\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(AppBar, {\n    position: \"static\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Toolbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }, \"\\u533B\\u7642\\u63D0\\u4F9B\\u4F53\\u5236\\u306E\\u72B6\\u6CC1\"))), /*#__PURE__*/React.createElement(ControllPanel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"panel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"map\",\n    ref: mapRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(MapGL, Object.assign({\n    style: {}\n  }, viewport, {\n    mapStyle: \"mapbox://styles/mapbox/streets-v11\",\n    mapboxApiAccessToken: MAPBOX_TOKEN,\n    onViewportChange: v => setViewport(v),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 5\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"bottom\",\n    ref: bbtnRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(BottomBtn, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }\n  })));\n}\n\nexport default App;\n/*\n \n\n        */","map":{"version":3,"sources":["/Users/idg08/Desktop/works/hospital/src/App.js"],"names":["React","useEffect","useState","useRef","makeStyles","withStyles","AppBar","Toolbar","Typography","MapGL","ControllPanel","BottomBtn","MAPBOX_TOKEN","App","mapRef","bbtnRef","viewport","setViewport","width","window","innerWidth","height","innerHeight","longitude","latitude","zoom","maxZoom","getMapsize","current","offsetWidth","offsetHeight","bbtnHeight","v","handleResize","addEventListener","removeEventListener"],"mappings":"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","sourcesContent":["import React, { useEffect, useState ,useRef } from 'react';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\n\n\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\n\nimport MapGL from \"react-map-gl\";\n\nimport ControllPanel from './components/ControllPanel';\nimport BottomBtn from './components/BottomBtn';\n\n\n\n\n//mapboxのトークンは自分で取得したものに変更してください。\n//このトークンは突然使えなくなる可能性があります。\nconst MAPBOX_TOKEN =\n  \"pk.eyJ1Ijoic2hpbWl6dSIsImEiOiJjam95MDBhamYxMjA1M2tyemk2aHMwenp5In0.i2kMIJulhyPLwp3jiLlpsA\";\n\n\n\n\nfunction App() {\n\n\n  const mapRef = useRef(null); \n  const bbtnRef = useRef(null); \n\n\n  const [viewport, setViewport] = useState \n  ({\n    width:window.innerWidth,\n    height:window.innerHeight,\n    longitude: 139.0110974,\n    latitude: 36.3226885,\n    zoom: 6,\n    maxZoom: 20,\n  })\n\n\n  \n  const getMapsize = () => {\n\t\tconst width = mapRef.current ? mapRef.current.offsetWidth : 0;\n    const height = mapRef.current ? mapRef.current.offsetHeight : 0;\n    const bbtnHeight =  bbtnRef.current ? bbtnRef.current.offsetHeight : 0;\n\n    setViewport((v) => {\n      return {\n        ...v,\n        width: width,\n        height: height - bbtnHeight\n      };\n    });\n  } \n\n\t//ロード時にコンポネーントのwidth,heightを取得\n\tuseEffect(getMapsize,[]);\n\n\t//resize\n\tuseEffect(() => {\n\t\tconst handleResize = () => {\n      const height = mapRef.current ? mapRef.current.offsetHeight : 0;\n      const bbtnHeight =  bbtnRef.current ? bbtnRef.current.offsetHeight : 0;\n\n\t\t\tsetViewport((v) => {\n\t\t\t\treturn {\n\t\t\t\t\t...v,\n\t\t\t\t\twidth: width,\n\t\t\t\t\theight: height - bbtnHeight\n\t\t\t\t};\n\t\t\t});\n\t\t};\n\t\twindow.addEventListener('resize', handleResize);\n\t\treturn () => window.removeEventListener('resize', handleResize);\n\t}, []);  \n\n  return (\n    <>\n    <div id=\"header\">\n    <AppBar position=\"static\">\n        <Toolbar>\n          <Typography variant=\"h6\">\n          医療提供体制の状況\n          </Typography>\n        </Toolbar>\n      </AppBar>\n      <ControllPanel  ></ControllPanel>\n    </div>\n    <div id=\"panel\">\n      \n    </div>\n    <div id=\"map\" ref={mapRef}>\n    <MapGL style={{}}\n          {...viewport}\n          mapStyle={\"mapbox://styles/mapbox/streets-v11\"}\n          mapboxApiAccessToken={MAPBOX_TOKEN}\n          onViewportChange={v => setViewport(v)}\n        />  \n    </div>\n\n    <div id=\"bottom\" ref={bbtnRef}>\n      <BottomBtn></BottomBtn>\n    </div>\n\n    </>\n\n  )\n}\n\nexport default App;\n\n/*\n \n\n        */"]},"metadata":{},"sourceType":"module"}